<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tooth SVG Test UI (11/13/14)</title>
  <style>
    :root { --bg:#0b1020; --panel:#111a33; --card:#0f1730; --text:#e7ecff; --muted:#9fb0ff; --accent:#5eead4; --danger:#fb7185; --border:#22305e; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background:var(--bg); color:var(--text); }
    header { padding:14px 16px; border-bottom:1px solid var(--border); display:flex; gap:12px; align-items:center; }
    header h1 { font-size:14px; margin:0; font-weight:700; letter-spacing:.2px; }
    header .hint { color:var(--muted); font-size:12px; }
    main { display:grid; grid-template-columns: 1fr 360px; gap:12px; padding:12px; }
    @media (max-width: 980px) { main { grid-template-columns: 1fr; } }
    .chart { background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px; overflow:auto; }
    .row { display:grid; grid-template-columns: repeat(16, minmax(64px, 1fr)); gap:10px; margin-bottom:10px; }
    .toothCard { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:8px; cursor:pointer; position:relative; min-height:110px; display:flex; align-items:center; justify-content:center; }
    .toothCard:hover { border-color:#2f4486; }
    .toothCard.selected { outline:2px solid var(--accent); outline-offset:2px; }
    .label { position:absolute; top:6px; left:8px; font-size:11px; color:var(--muted); }
    .svgWrap { width:64px; height:96px; display:flex; align-items:center; justify-content:center; }
    .svgWrap svg { width:64px; height:96px; }
    .rot180 { transform: rotate(180deg); }
    .panel { background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px; }
    .panel h2 { margin:0 0 10px 0; font-size:13px; }
    .section { border-top:1px solid var(--border); padding-top:10px; margin-top:10px; }
    .section:first-child { border-top:0; padding-top:0; margin-top:0; }
    .section h3 { margin:0 0 8px 0; font-size:12px; color:var(--muted); letter-spacing:.2px; text-transform:uppercase; }
    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
    .grid4 { display:grid; grid-template-columns: repeat(4, 1fr); gap:8px; }
    label { display:flex; gap:8px; align-items:center; font-size:13px; }
    input[type="checkbox"], input[type="radio"] { transform: translateY(1px); }
    .muted { color:var(--muted); font-size:12px; }
    .btnrow { display:flex; gap:8px; flex-wrap:wrap; }
    button { background:#15214a; border:1px solid var(--border); color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer; font-weight:600; }
    button:hover { border-color:#2f4486; }
    button.danger { background:#2a1220; border-color:#4b1a2d; color:#ffd7df; }
    .disabled { opacity:.5; pointer-events:none; }
  </style>
</head>
<body>
  <header>
    <h1>Tooth SVG Test UI</h1>
    <div class="hint">Kattints egy fogra → jobb oldalt állítsd a rétegeket. (data-active vezérlés + szabályok v1.2)</div>
  </header>

  <main>
    <div class="chart">
      <div class="row" id="rowUpper"></div>
      <div class="row" id="rowLower"></div>
      <div class="muted">Tipp: A kiválasztott fog kerete türkiz. A megjelenítést a globál CSS kezeli az SVG-ben: <code>[data-active="0"] { display: none; }</code></div>
    </div>

    <div class="panel">
      <h2 id="panelTitle">Fog: –</h2>

      <div class="section">
        <h3>Gyors gombok</h3>
        <div class="btnrow">
          <button id="btnResetTooth">Reset fog (default)</button>
          <button class="danger" id="btnClearAll">Minden OFF (kivéve base)</button>
        </div>
      </div>

      <div class="section">
        <h3>Tooth</h3>
        <label><input type="checkbox" id="chkToothBody" /> Fog test (tooth-base + pulp)</label>

        <div class="grid2" style="margin-top:8px;">
          <label><input type="radio" name="pulpMode" value="healthy" id="radPulpHealthy" /> Healthy pulp</label>
          <label><input type="radio" name="pulpMode" value="inflam" id="radPulpInflam" /> Inflamed pulp</label>
        </div>

        <div style="margin-top:10px;">
          <div class="muted" style="margin-bottom:6px;">Fog variáns</div>
          <select id="selVariant" style="width:100%; padding:8px; border-radius:10px; border:1px solid var(--border); background:#0f1730; color:var(--text);">
            <option value="none">none</option>
          </select>
        </div>
      </div>

      <div class="section">
        <h3>Mods</h3>
        <div class="grid2" id="modsBox"></div>
      </div>

      <div class="section">
        <h3>Endo</h3>
        <div class="grid2">
          <label><input type="radio" name="endoMode" value="none" /> none</label>
          <label><input type="radio" name="endoMode" value="endo" /> endo</label>
          <label><input type="radio" name="endoMode" value="glass" /> glass pin</label>
          <label><input type="radio" name="endoMode" value="metal" /> metal pin</label>
        </div>
      </div>

      <div class="section">
        <h3>Caries</h3>
        <div class="grid2" id="cariesBox"></div>
        <div class="muted" id="cariesHint" style="margin-top:6px;"></div>
      </div>

      <div class="section">
        <h3>Filling</h3>
        <div class="grid2">
          <label><input type="radio" name="fillMaterial" value="none" /> none</label>
          <label><input type="radio" name="fillMaterial" value="amalgam" /> amalgam</label>
          <label><input type="radio" name="fillMaterial" value="composite" /> composite</label>
        </div>
        <div class="muted" style="margin:8px 0 6px;">Surfaces</div>
        <div class="grid4" id="fillSurfBox"></div>
      </div>

      <div class="section">
        <h3>Restorations</h3>
        <div class="grid2">
          <label><input type="radio" name="restMain" value="none" /> none</label>
          <label><input type="radio" name="restMain" value="implant" /> implant</label>
          <label><input type="radio" name="restMain" value="prosthesis" /> prosthesis</label>
          <label><input type="radio" name="restMain" value="telescope" /> telescope</label>
        </div>

        <div class="muted" style="margin:10px 0 6px;">Crown material (implant mellett)</div>
        <div class="grid2">
          <label><input type="radio" name="crownMat" value="none" /> none</label>
          <label><input type="radio" name="crownMat" value="zircon" /> zircon</label>
          <label><input type="radio" name="crownMat" value="metal" /> metal</label>
          <label><input type="radio" name="crownMat" value="temporary" /> temporary</label>
        </div>
        <div class="muted" id="restHint" style="margin-top:6px;"></div>
      </div>

      <div class="section">
        <h3>Debug</h3>
        <label><input type="checkbox" id="chkShowIds" /> Mutasd az aktív ID-ket konzolban (apply után)</label>
        <div class="muted">Nyisd meg a DevTools Console-t.</div>
      </div>
    </div>
  </main>

  <script src="app.js"></script>
</body>
</html>
